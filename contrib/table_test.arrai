let (:markdown, :html, ...) = //{./table};

let single = {'a': 1};
let multiple = {'a': 1, 'b': [1,2,3]};

let multipleHtml = 
'<table>
    <tr><th>Key</th><th>Value</th></tr>
    <tr><td>a</td><td>1</td></tr>
    <tr><td>b</td><td>[1, 2, 3]</td></tr>
</table>';

let norm = \s //seq.sub('\r\n', '\n', s);

(
    markdown: (
        empty: norm(markdown({})) = '|Key|Value|\n',
        single: norm(markdown(single)) = '|Key|Value|\n|a|1|',
        multiple: norm(markdown(multiple)) = '|Key|Value|\n|a|1|\n|b|[1, 2, 3]|',
    ),
    html: (
        empty: norm(html({})) = '<table>\n    <tr><th>Key</th><th>Value</th></tr>\n</table>',
        multiple: norm(html(multiple)) = multipleHtml,
    ),
)
